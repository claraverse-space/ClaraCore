# Use official ROCm llama.cpp image for AMD GPU support
FROM rocm/llama.cpp:llama.cpp-b6356_rocm6.4.3_ubuntu24.04_light

# Set working directory
WORKDIR /app

# Copy only the ClaraCore binary
COPY claracore /app/claracore

# Make it executable
RUN chmod +x /app/claracore

# Expose port
EXPOSE 5890

# Set the entrypoint
ENTRYPOINT ["/app/claracore"]
CMD ["-listen", "0.0.0.0:5890"]
